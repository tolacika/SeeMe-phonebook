!function(t){var e={};function n(i){if(e[i])return e[i].exports;var o=e[i]={i:i,l:!1,exports:{}};return t[i].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:i})},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/",n(n.s=0)}([function(t,e,n){n(1),t.exports=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n(2),o=(n.n(i),n(3)),s=(n.n(o),n(4));n.n(s)},function(t,e){var n;(n=jQuery).fn.isvisible=function(t,e,i,o){if(1!==n(this).length||!1===e&&!1===i)return n(this);var s=n(window).scrollTop(),r=s+window.innerHeight,a=n(window).scrollLeft(),d=a+window.innerWidth;t===o&&(t=!0),e===o&&(e=!0),i===o&&(i=!0);var l=n(this).offset().top,c=l+n(this).height();return offsetLeft=n(this).offset().left,offsetRight=offsetLeft+n(this).width(),!(e&&(c<=s||r<=l)||i&&(offsetRight<=a||d<=offsetLeft)||!t&&!(e&&!i?s<=l&&c<=r:!e&&i?a<=offsetLeft&&offsetRight<=d:s<=l&&c<=r&&a<=offsetLeft&&offsetRight<=d))}},function(module,exports){Application=function(){},Application.prototype.initApp=function(){this.initDeletes(),$(":input").attr("autocomplete","off")},Application.prototype.initDeletes=function(){$(".deleteButton").off("click.deleteButton").on("click.deleteButton",function(t){t.preventDefault();var e=$(this).data("url"),n=$(this).data("text");$("#deleteModalForm").attr("action",e),n&&$("#deleteModalText").html(n),$("#deleteModal").modal()})},Application.prototype.post=function(settings,method){var options={url:settings.url,type:method||"POST",data:settings.data,headers:{"X-CSRF-TOKEN":$('meta[name="csrf-token"]').attr("content")},success:function success(response,textStatus,jqXHR){response.fn&&eval(response.fn),response.redirect&&(window.location.href=response.redirect),"function"==typeof settings.callback&&settings.callback(response,textStatus,jqXHR)},error:function(t,e,n){var i=$.parseJSON(t.responseText);"401"!==i.status?i.message?toastr.error(i.message,"Hiba történt!"):toastr.error("Kérem töltse újra a weblapot","Hiba történt!"):window.location.reload(!0)}};return void 0===options.data&&(options.data={}),$.ajax(options)},Application.prototype.flashMessage=function(t,e,n){"success"===t&&toastr.success(e,n),"warning"===t&&toastr.warning(e,n),"error"===t&&toastr.error(e,n)},Application.prototype.scroll=function(t){t.name=t.name||"scroll_name",t.bottom=t.bottom||function(){return $(document).height()},$(window).on("scroll."+t.name,function(e){t.bottom()<=window.innerHeight+$(this).scrollTop()+1&&t.callback(e)})},Application.prototype._getFormData=function(t){var e={};return 0===t.length?e:(t.find(":input[name]").each(function(){var t=$(this).attr("name"),n=$(this).attr("type"),i=$(this).val();i&&$(this).attr("data-value-important")&&(i=$(this).attr("data-value-important")),"checkbox"===n?(void 0===e[t]&&(e[t]=[]),$(this).prop("checked")&&e[t].push(i)):"radio"===n?$(this).prop("checked")&&(e[t]=i):e[t]=i}),e)},Function.prototype.extends=function(t){return t.constructor===Function?$.extend(this.prototype,new t):$.extend(this.prototype,t),this},window.app=new Application,$(document).ready(function(){moment.locale("hu"),window.app.initApp()})},function(module,exports){window.AdminList=function(t,e,n,i){var o=this;this.$form=t,this.$list=e,this.__head=n,this._head=[],this.$head=[],n.find("[data-elem]").each(function(){o.$head.push($(this)),o._head.push("_this.column"+$(this).attr("data-elem"))}),this.initList()},AdminList.prototype.$form=null,AdminList.prototype.$list=null,AdminList.prototype.$head=null,AdminList.prototype._head=null,AdminList.prototype.page=0,AdminList.prototype.run=!1,AdminList.prototype.$row=null,AdminList.prototype.columnEq=null,AdminList.prototype.$currentHead=null,AdminList.prototype.initList=function(){var t=this;t.initTableSorts(),t.$form.off("submit.search").on("submit.search",function(e){e.preventDefault(),t.resetList()}).trigger("submit.search"),t.scroll({name:"getListAction",callback:function(){t.searchAction()}})},AdminList.prototype.initTableSorts=function(t,e){t=t||$("table thead#head"),e=e||$("form#search"),t.find("tr th[data-sort]").addClass("sorting"),0===t.find("tr th[data-sort].sorting_asc").length&&0===t.find("tr th[data-sort].sorting_desc").length&&t.find("tr th[data-sort]:eq(0)").addClass("sorting_asc"),t.find("tr th.sorting").off("click.sort").on("click.sort",function(){$(this).hasClass("sorting_asc")?(t.find("tr th.sorting_asc").removeClass("sorting_asc"),t.find("tr th.sorting_desc").removeClass("sorting_desc"),$(this).addClass("sorting_desc")):($(this).hasClass("sorting_desc"),t.find("tr th.sorting_asc").removeClass("sorting_asc"),t.find("tr th.sorting_desc").removeClass("sorting_desc"),$(this).addClass("sorting_asc")),e.length&&e.trigger("submit")})},AdminList.prototype.drawListAction=function(response){var _this=this;for(var i in response.list){var elem=response.list[i];for(var j in _this.newLine({id:elem.id||null}),_this._head)_this.columnEq=j,_this.$currentHead=_this.$head[j],eval(_this._head[j]);_this.writeLine()}},AdminList.prototype.resetList=function(){this.$list.parent().parent().find(".no-more-result").length&&this.$list.parent().parent().find(".no-more-result").remove(),this.$list.html(""),this.page=0,this.run=!1,this.searchAction()},AdminList.prototype.searchAction=function(){if(!this.run){this.run=!0;var t=this,e=t._getFormData(t.$form)||{};t.__head.find(".sorting_desc").length&&(e.order_by="desc",e.order_field=t.__head.find(".sorting_desc").attr("data-sort")),t.__head.find(".sorting_asc").length&&(e.order_by="asc",e.order_field=t.__head.find(".sorting_asc").attr("data-sort")),e.page=t.page,t.post({url:t.$form.attr("action"),data:e,callback:function(e){"success"===e.status?(t.page++,t.drawListAction(e),!1===e.end?t.run=!1:t.$list.parent().after($("<p>").addClass("no-more-result text-center").html("Nincs több találat")),window.app.initDeletes(),t.$list.find("tr").first().isvisible()&&t.$list.find("tr").last().isvisible()&&t.searchAction()):console.log(e)}})}},AdminList.prototype.tooltip=function(t,e){t.attr("data-toggle","tooltip").attr("data-placement","top").attr("data-original-title",e).tooltip()},AdminList.prototype.column=function(t,e,n){var i=$("<td>"),o=this.$currentHead.hasClass("hidden");return this.$row.append(i.addClass("valignm "+(o?"hidden":"")).html(t)),"string"==typeof e&&e.length&&this.tooltip(i,e),"string"==typeof n&&n.length&&i.addClass(n),i},AdminList.prototype.columnLink=function(t,e,n,i,o,s){var r=this.column($("<a>").html(t));return r.find("a").on("click.columnLinkAction",function(t){return $(this).attr("data-disabled")?(t.preventDefault(),!1):"function"==typeof n?(t.preventDefault(),n(r.parent(),r),!1):void 0}).attr("href",e),i&&r.find("a").attr("data-disabled",1).addClass("disabled-link"),o&&r.find("a").attr("target","_blank"),s&&r.append(s),r},AdminList.prototype.urlPrefixer=function(t){return(t||"").replace(/\/$/,"")+"/"||""},AdminList.prototype.columnName=function(t,e,n){return n=this.urlPrefixer(n),this.columnLink(e,n+t)},AdminList.prototype.columnEmail=function(t){return this.columnLink(t,"mailto:"+t,!1,!1,!0).addClass("text-center")},AdminList.prototype.columnPhone=function(t){return this.columnLink(t,"tel:"+t).addClass("text-center")},AdminList.prototype.columnButtons=function(t,e,n,i){if(i=i||!1)return this.column("&nbsp;");n=this.urlPrefixer(n);var o=$("<div>").addClass("btn-group").attr("role","group").attr("aria-label","Műveletek");return o.append($("<a>").addClass("btn btn-outline-success btn-sm").attr("href",n+"edit/"+t).append($("<i>").addClass("fa fa-edit"))),o.append($("<button>").addClass("btn btn-outline-danger btn-sm deleteButton").attr("type","button").attr("data-url",n+"destroy/"+t).attr("data-text","Biztosan törlöd "+e+" névjegyét?").append($("<i>").addClass("fa fa-trash"))),this.column(o).addClass("text-right")},AdminList.prototype.columnCategories=function(t){for(var e=$("<div>"),n=0;n<t.length;n++)e.append(this.getLabel(t[n],"secondary")),e.append(" ");return this.column(e).addClass("text-center")},AdminList.prototype.columnCreated=function(t){var e=$("<span>").text(moment(t).fromNow());return this.tooltip(e,t),this.column(e).addClass("text-center")},AdminList.prototype.columnCount=function(t,e){return e=e.replace(":count",t),this.column(e).addClass("text-center")},AdminList.prototype.getLabel=function(t,e){return $("<span>").addClass("badge badge-"+e).html(t)},AdminList.prototype.newLine=function(t){for(var e in this.$row=$("<tr>"),t||{})this.$row.attr(e,t[e])},AdminList.prototype.writeLine=function(){this.$list.append(this.$row),this.$row=null},AdminList.extends(Application),$(document).ready(function(){$("form#search").length&&$("tbody#list").length&&$("thead#head [data-elem]").length&&(window.adminList=new AdminList($("form#search"),$("tbody#list"),$("thead#head")))})},function(t,e){}]);